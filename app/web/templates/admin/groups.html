<div class="card">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <div>
            <h1>Group Management</h1>
            <p style="color: #6c757d; margin-top: 0.5rem;">
                Manage organizational groups and departments.
            </p>
        </div>
        <a href="/admin/groups/create" class="btn">+ New Group</a>
    </div>
</div>

<div class="card">
    {{if .Groups}}
    <table>
        <thead>
            <tr>
                <th>Group Name</th>
                <th>Description</th>
                <th>Members</th>
                <th>Created</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {{range .Groups}}
            <tr>
                <td><strong>{{.Name}}</strong></td>
                <td>{{if .Description}}{{.Description}}{{else}}<span style="color: #999;">No description</span>{{end}}
                </td>
                <td>
                    <span class="badge badge-info">{{.MemberCount}} members</span>
                </td>
                <td>{{.CreatedAt.Format "Jan 02, 2006"}}</td>
                <td>
                    <div style="display: flex; gap: 0.5rem;">
                        <a href="/admin/groups/{{.ID}}/members" class="btn btn-secondary"
                            style="font-size: 0.875rem; padding: 0.5rem 1rem;">
                            Manage Members
                        </a>
                        <form method="POST" action="/admin/groups/{{.ID}}/delete" style="display: inline;">
                            <input type="hidden" name="csrf_token" value="{{$.csrf_token}}">
                            <button type="submit" class="btn btn-secondary"
                                style="font-size: 0.875rem; padding: 0.5rem 1rem;">
                                Delete
                            </button>
                        </form>
                    </div>
                </td>
            </tr>
            {{end}}
        </tbody>
    </table>
    {{else}}
    <p style="text-align: center; color: #6c757d; padding: 3rem;">
        No groups found. Create your first group!
    </p>
    {{end}}
</div>